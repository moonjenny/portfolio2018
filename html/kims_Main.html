<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width, viewport-fit=cover">
  <link rel="shortcut icon" href="../img/webicon/favicon.ico"><!-- 웹용 -->
  <link rel="apple-touch-icon-precomposed" href="../img/webicon/favicon.png"><!-- iOS계열 아이콘 -->
  <link rel="apple-touch-icon-precomposed" href="../img/webicon/favicon.png" sizes="114x114">
  <link rel="apple-touch-icon-precomposed" href="../img/webicon/favicon.png" sizes="120x120">
  <meta name="mobile-web-app-capable" content="no">
  <meta name="format-detection" content="telephone=no">
  <meta property="og:title" content="Moon Jenny">
  <meta property="og:url" content="https://moonjenny.github.io/portfolio/index.html">
  <meta property="og:image" content="">
  <meta property="og:description" content="Moon Jenny, Portfolio">
  <title>Moon Jenny</title>
	<link rel="stylesheet" type="text/css" href="../css/style.min.css">
	<link rel="stylesheet" type="text/css" href="../css/main_new.css">
	<script type="text/javascript" src="../js/src/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="../js/src/jquery.plugin.mobile.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>
<body class="kims renewal"><!-- 메인 리뉴얼 .renewal 클래스 추가 -->

<!-- ACCESSIBILITY -->
<div class="accessibility">
	<a href="#skip_cont">본문 바로가기</a>
</div>
<!--// ACCESSIBILITY -->

  <!-- header -->
  <header class="header" id="header">
    <div class="head">
      <div class="ctg">
        <button type="button" id="left_open" class="left_open">
          <svg viewBox="0 0 24 24" id="ic_menu_black_24dp" style="width:24px;height:24px;fill:#fff;vertical-align:top;"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
          <b class="ir">카테고리 전체메뉴 열기</b>
        </button>
      </div>
      <h1><a href="index.html"><b>GUIDE MAIN</b></a></h1>
      <div class="hnb">
        <ul>
          <li class="sch">
            <button type="button">
              <b class="ir">검색 열기</b>
              <svg viewBox="0 0 24 24" preserveAspectRatio="xMinYMin meet">
                <path id="XMLID_3_" fill="none" d="M15.8,9.2C15.8,5.8,13,3,9.6,3C6.1,3,3.4,5.8,3.4,9.2c0,3.4,2.8,6.2,6.2,6.2
                C13,15.4,15.8,12.6,15.8,9.2z"></path>
                <path id="XMLID_10_" d="M23.2,21.4L16.7,15c1.3-1.6,2-3.6,2-5.8c0-5.1-4.1-9.2-9.2-9.2C4.5,0,0.4,4.1,0.4,9.2
                c0,5.1,4.1,9.2,9.2,9.2c1.8,0,3.5-0.5,4.9-1.4l6.6,6.6c0.3,0.3,0.7,0.4,1.1,0.4s0.8-0.1,1.1-0.4C23.8,23,23.8,22,23.2,21.4z
                M3.4,9.2C3.4,5.8,6.1,3,9.6,3c3.4,0,6.2,2.8,6.2,6.2c0,3.4-2.8,6.2-6.2,6.2C6.1,15.4,3.4,12.6,3.4,9.2z"></path>
              </svg>
            </button>
          </li>
        </ul>
      </div>

    </div>
  </header>
  <!-- //header -->

  <!-- LEFT MENU -->
  <div id="lnb" class="lnb_wrap">
    <div class="lnb">
      <div class="lnb_cont">
        <div style="background:#eee;padding:20px;text-align:center;height:1200px;">LNB MENU</div>
      </div>
      <div class="lnb_cls"><button type="button" id="left_cls" class="left_cls"><b class="ir">카테고리 전체메뉴 닫기</b></button></div>
    </div>
  </div>
  <div class="lnb_dim"></div>
  <!-- //LEFT MENU -->

<!-- CONTENT -->
<div class="contents" id="contents">
	<div class="main_top" id="main_top">
		<div class="gnb_wrap">
			<div class="gnb" id="gnb">
				<ul class="swiper-wrapper">
					<li class="swiper-slide on"><span>홈</span></li>
					<li class="swiper-slide"><span>산지직송</span></li>
					<li class="swiper-slide"><span>베스트</span></li>
					<li class="swiper-slide"><span>기획전</span></li>
					<li class="swiper-slide"><span>이벤트</span></li>
				</ul>
			</div>
		</div>
	</div>

	<div class="m_cts" id="m_cts">
		<ul class="swiper-wrapper">
			<li class="swiper-slide"></li>
		</ul>
	</div>

  <script type="text/javascript">
  		var GNB_SCROLL;
  		var LOADING_HTML = '<div class="loading"><span>로딩중</span></div>';

  		$(document).ready(function() {
  			GNB_SCROLL = new Swiper('#gnb',{
  				createPagination: false,
  				freeMode: true,
  				freeModeFluid: true,
  				slidesPerView: 'auto',
  				roundLengths: true,
  				onSlideClick: function(){
  					$(".gnb li").removeClass("on");
  					$('#m_cts').find('.swiper-slide').eq(1).html(LOADING_HTML);
  					GNB_SCROLL.swipeTo(GNB_SCROLL.clickedSlideIndex);
  					call_slide(GNB_SCROLL.clickedSlideIndex);
  				}
  			});

  			$(window).resize(function(){
  				GNB_SCROLL.reInit();
  			});
  		});


  		$(window).load(function() {
  			mainCate.prependSlide(LOADING_HTML, 'swiper-slide','li');
  			$('#m_cts').find('.swiper-slide').eq(1).addClass('swiper-slide-active').html(LOADING_HTML);
  			mainCate.insertSlideAfter(1, LOADING_HTML, 'swiper-slide','li');
  			mainCate.swipeTo(1, 0, true);
  			call_slide(0);
  		});

  		function change_slide(idx) {
  			$('#m_cts').find('li:not(.swiper-slide-active)').remove();
  			mainCate.prependSlide( LOADING_HTML, 'swiper-slide','li');
  			mainCate.insertSlideAfter(1, LOADING_HTML, 'swiper-slide','li');
  			$('#m_cts').find('.swiper-slide').removeClass('swiper-slide-active');
  			$('#m_cts').find('.swiper-slide').eq(1).addClass('swiper-slide-active');
  			if(	$('#m_cts').find('.swiper-slide').eq(1).hasClass('swiper-slide-active')){
  				$('#m_cts').find('.slide_cont').remove();
  				window.scrollTo(0, 0);
  				call_slide(idx);
  			}
  		}

  		function call_slide(idx){
  			$.ajax({
  				type : 'post',
  				isLocal: true,
  				headers: { "cache-control": "no-cache" },
  				url : 'kims_main_'+ idx +'.html',
  				dataType : 'html',
  				success: function(data){
  					setTimeout(function() {
  						$('#m_cts').find('.swiper-slide').eq(1).html(data);
  						mainCate.reInit();
  						setSlideHeight();
  					}, 100);
  					$('.gnb li').removeClass('on');
  					$('.gnb').find('li').eq(idx).addClass('on');
  					mainCate.swipeTo(1, 0, true);
  				},
  				error: function(){
  					setTimeout(function() { call_slide(0) }, 100);
  					GNB_SCROLL.swipeTo(idx, 200);
  				}
  			});
  		}

  		var mainCate = new Swiper('#m_cts',{
  			loop: false,
  			touchRatio: 0.3,  //2016-10-31
  			simulateTouch : true,
  			calculateHeight:true,
  			onSlideNext : function() {
  				var index = parseInt($('.gnb').find('li.on').index()) + 1;
  				var max_gnb = $('.gnb li').length;
  				if(index == max_gnb ){
  					var idx = 0;
  					GNB_SCROLL.swipeTo(0, 200);
  				}else{
  					var idx = index;
  					var w_width = $(window).width();
  					var	active_li = $('.gnb').find('li.on').next('li');
  					var active_left = active_li.offset().left + active_li.outerWidth();
  					if(active_left > w_width){
  						GNB_SCROLL.swipeTo(idx, 200);
  					}
  				}
  				change_slide(idx);
  			},
  			onSlidePrev : function() {
  				var index = parseInt($('#m_cts' ).find('.slide_cont').attr('data-index'));
  				if(index == 0 ){
  					var idx = $('.gnb li').length -1;
  						GNB_SCROLL.swipeTo(idx, 200);
  				}else{
  					var idx = index - 1;
  					var active_li = $('.gnb').find('li.on').prev('li');
  					var active_left = active_li.offset().left;
  					if(active_left <= 0){
  						GNB_SCROLL.swipeTo(idx, 200);
  					}
  				}
  				change_slide(idx);
  			}
  		});

  		$(window).resize(function(){
  			mainCate.reInit();
  			setSlideHeight();
  		});
  	</script>

</div>
<!-- //CONTENT -->



<!-- footer -->
<footer id="footer" class="footer">
  <div class="d_foot">
    <ul class="list_foot">
      <li><a href="#">로그인</a></li>
      <li><a href="#">내정보</a></li>
      <li><a href="#">PC화면</a></li>
      <li><a href="#">전체보기</a></li>
    </ul>
    <small class="copr_info">
      <span class="info_policy">
        <a href="#">이용약관</a>
        <a href="#">개인정보처리방침</a>
        <a href="#">고객센터</a>
      </span>
      <a href="#" class="link_kakaocorp">ⓒ Kakao Corp.</a>
    </small>
  </div>
</footer>
<!-- //footer -->


<!-- btn_back -->
<div class="btn_back" id="btn_back"><a href="#"><b class="ir">이전페이지</b></a></div>
<!-- //btn_back -->

<!-- btn_top -->
<div class="btn_top" id="btn_top"><a href="#"><b class="ir">상단으로 이동</b></a></div>
<!-- //btn_top -->

<!-- UI.JS -->
<script type="text/javascript" src="../js/ui.mobile.js"></script>
<!-- //UI.JS-->

</body>
</html>
